"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6314],{66314:function(e,t,a){a.r(t),a.d(t,{default:function(){return ea}});var s=a(57437),r=a(92513),l=a(18422),n=a(10883),i=a(74697),o=a(2265),c=a(54887);a(74590);var d=a(58064),m=(0,d.$)("fb9373704fc3b0a7170de4cecfa587a8b8fddc70"),u=(0,d.$)("81974cf7f9027a3ec2e41550cdfcc2162f9e097e"),g=(0,d.$)("a161a0073f97e310792757a3225a51e10a531516"),x=(0,d.$)("9d802707b6137dc6c67d23d62a08748f6bb98521"),p=(0,d.$)("2f372ca1ca4676a335fc2052f9f54a4ee9d9e3d0"),h=(0,d.$)("7ad376177ae6c0ca46b16276adb229e4820df123"),b=(0,d.$)("023bd8f8a3f704cb801e87634ae081f94553f341"),f=(0,d.$)("64c12d06e286be42a11d07e5b9e502b44ea066ed"),y=(0,d.$)("3bb44d563cb53fbc4459b48cbcc14ebd8d39f000"),v=(0,d.$)("2283e8ccb67fe09c773287d43d5aaa6f9d6c094d"),j=(0,d.$)("4d1d7780696f79d3bbe81aae4103d268bd317424"),N=(0,d.$)("3c3db8e245c0648d1f2c30dbcf2eb09480c5f6e3"),w=(0,d.$)("edcf6f54649a581f77ec7730243a513fce679cd8"),_=(0,d.$)("716077d39e76b63aa8ff9b18e67ebe82640f66f2"),z=(0,d.$)("7f8f0f6088cd5e945313f6a023e5a5c2df62cbd8"),C=(0,d.$)("a47f38cb0dbcfffa2332fd4a0dc9a40330af4e33"),F=(0,d.$)("f5ff76fc445abd7c3024ac25f385865335a787ff"),k=a(16463),S=a(95956),V=a(39343),A=a(31014),I=a(30998),P=e=>{let{label:t,type:a="text",register:r,name:l,defaultValue:n,error:i,hidden:o,placeholder:c,inputProps:d,onChange:m}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:o?"hidden":"sm:col-span-3",children:(0,s.jsx)("label",{htmlFor:"af-account-full-name",className:"inline-block text-sm text-gray-800 mt-2.5 ",children:t})}),(0,s.jsxs)("div",{className:o?"hidden":"sm:col-span-9",children:["checkbox"===a?(0,s.jsx)("input",{type:"checkbox",...r(l),className:"shrink-0 mt-4 border-orange-600 rounded text-orange-600 focus:ring-orange-500 disabled:opacity-50 disabled:pointer-events-none",defaultChecked:!!n,onChange:m,...d}):(0,s.jsx)("input",{type:a,...r(l),className:"py-2 px-3 pe-11 block w-full border-gray-200 shadow-sm sm:mt-0\n                                text-sm -mt-px -ms-px  rounded-lg ring-1 ring-gray-300\n                                focus:ring-2 focus:ring-blue-500 focus:outline-none \n                                focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",...d,defaultValue:n,placeholder:c}),(null==i?void 0:i.message)&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:i.message.toString()})]})]})},E=e=>{let{label:t,type:a="text",register:r,name:l,defaultValue:n,error:i,inputProps:o,placeholder:c}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"sm:col-span-3",children:(0,s.jsx)("label",{htmlFor:"af-account-bio",className:"inline-block text-sm text-gray-800 mt-2.5 ",children:t})}),(0,s.jsxs)("div",{className:"sm:col-span-9",children:[(0,s.jsx)("textarea",{type:a,...r(l),rows:4,className:"py-2 px-3 block w-full border-gray-200 shadow-sm sm:mt-0\n                                text-sm relative rounded-lg ring-1 ring-gray-300\n                                focus:ring-2 focus:ring-blue-500 focus:outline-none \n                                focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",...o,defaultValue:n,placeholder:c}),(null==i?void 0:i.message)&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:i.message.toString()})]})]})},$=a(59772);let Z=$.z.object({id:$.z.coerce.number().optional(),venue_name:$.z.string().min(3,{message:"Venue Name must be at least 3 characters long!"}),email:$.z.string().email({message:"Invalid email address!"}),phone_number:$.z.string().refine(e=>/^(\+?\d{1,3}[- ]?)?\d{10}$/.test(e),{message:"Invalid phone number format!"}),venue_address:$.z.string().min(3,{message:"Venue Address must be at least 3 characters long!"}),contact_person:$.z.string().min(3,{message:"Contact Person must be at least 3 characters long!"})}),D=$.z.object({id:$.z.coerce.number().optional(),title:$.z.string().min(3,{message:"Event Type must be at least 3 characters long!"})});$.z.object({id:$.z.coerce.number().optional(),firstname:$.z.string().min(3,{message:"Firstname must be atleast 3 character long!"}),lastname:$.z.string().min(3,{message:"Firstname must be atleast 3 character long!"}),email:$.z.string().email({message:"Invalid email address!"}),phone_number:$.z.string().refine(e=>/^(\+?\d{1,3}[- ]?)?\d{10}$/.test(e),{message:"Invalid phone number format!"}),avatar:$.z.string().optional()});let B=$.z.object({id:$.z.coerce.number().optional(),title:$.z.string().min(3,{message:"Product name must be at least 3 characters long!"}),short_description:$.z.string().min(3,{message:"Product name must be at least 3 characters long!"}).optional(),address:$.z.string().min(3,{message:"Address must be at least 3 characters long!"}),price:$.z.string().transform(e=>parseInt(e,10)).refine(e=>!isNaN(e),{message:"Price must be a valid number"}),description:$.z.string().min(50,{message:"Description must be at least 50 characters long!"}).max(200,{message:"Description cannot be more than 200 characters long!"}),category:$.z.string(),product_image:$.z.array($.z.string(),{message:"Product Image must be a valid string"}).optional(),halls:$.z.array($.z.object({hall_name:$.z.string().min(1,{message:"Hall name is required."}),hall_capacity:$.z.number().min(1,{message:"Hall capacity must be at least 1."})})).optional(),amenities:$.z.array($.z.object({amenity_name:$.z.string().min(1,{message:"Amenity name is required."})})).optional(),rules:$.z.array($.z.object({description:$.z.string().min(1,{message:"Rule description is required."})})).optional()}),R=$.z.object({id:$.z.coerce.number().optional(),title:$.z.string().min(3,{message:"Blog Title must be at least 3 characters long!"}),description:$.z.string().min(50,{message:"Description must be at least 50 characters long!"}).max(200,{message:"Description cannot be more than 200 characters long!"}),image:$.z.string().optional(),authorId:$.z.number().optional(),is_approved:$.z.boolean().optional()}),T=$.z.object({id:$.z.coerce.number().optional(),category_name:$.z.string().min(3,{message:"Category name must be at least 3 characters long!"}),category_icon:$.z.string().optional()}),H=$.z.object({id:$.z.coerce.number().optional(),start_date:$.z.string().optional().refine(e=>!e||!isNaN(Date.parse(e)),{message:"Invalid start_date"}),end_date:$.z.string().optional().refine(e=>!e||!isNaN(Date.parse(e)),{message:"Invalid end_date"}),Hall:$.z.array($.z.object({hall_name:$.z.string().min(1,{message:"Hall name is required."}),hall_capacity:$.z.number().min(1,{message:"Hall capacity must be at least 1."})})).optional(),authorId:$.z.number().optional(),is_approved:$.z.boolean().optional(),approved_by_id:$.z.number().optional(),productId:$.z.number()});var M=a(98697),O=a(66648),U=a(58184),q=e=>{var t;let{type:a,data:r,setOpen:l}=e,{data:n}=(0,I.useSession)(),i=(null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.id)?parseInt(n.user.id):null,{register:d,handleSubmit:m,setValue:u,formState:{errors:g,isValid:x}}=(0,V.cI)({resolver:(0,A.F)(R),mode:"onChange",criteriaMode:"all"}),[p,h]=(0,o.useState)((null==r?void 0:r.image)||null),[b,v]=(0,c.useFormState)("create"===a?f:y,{success:!1,error:!1}),j=m(e=>{v({...e,image:(null==p?void 0:p.secure_url)||p,authorId:null!=i?i:void 0})}),N=(0,k.useRouter)();return(0,o.useEffect)(()=>{b.success&&(S.Am.success("Blog ".concat("create"===a?"created":"updated")),l(!1),N.refresh())},[b]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 ",children:"Blog"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 ",children:"Share your experience with our Nimtoz users."})]}),(0,s.jsxs)("form",{className:"overflow-y-auto",onSubmit:j,children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-12 gap-2 sm:gap-6",children:[(0,s.jsx)(M.ZF,{uploadPreset:"NextJS_Nimtoz",options:{clientAllowedFormats:["image"],maxFiles:1},onSuccess:(e,t)=>{let{widget:a}=t;h(e.info),a.close()},children:e=>{let{open:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"sm:col-span-3",children:(0,s.jsx)("label",{className:"inline-block text-sm text-gray-800 mt-2.5 ",children:"Blog Image"})}),(0,s.jsx)("div",{className:"sm:col-span-9",children:(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(p||(null==r?void 0:r.image))&&(0,s.jsx)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden"},children:(0,s.jsx)(O.default,{src:(null==p?void 0:p.secure_url)||(null==r?void 0:r.image),alt:(null==r?void 0:r.image)?r.image:"Blog Image",width:100,height:100,objectFit:"cover"})}),(0,s.jsx)("div",{className:"flex gap-x-2 cursor-pointer",onClick:()=>t(),children:(0,s.jsx)(U.Z,{width:25,height:25})})]})})]})}}),(null==n?void 0:n.user.role)==="Admin"&&(0,s.jsx)(P,{name:"is_approved",label:"Is Approved",type:"checkbox",defaultValue:null==r?void 0:r.is_approved,register:d,error:null==g?void 0:g.is_approved,placeholder:"Title of the Blog",onChange:e=>{u("is_approved",e.target.checked)}}),(0,s.jsx)(P,{name:"title",label:"Title",type:"boolean",defaultValue:null==r?void 0:r.title,register:d,error:null==g?void 0:g.title,placeholder:"Title of the Blog"}),r&&(0,s.jsx)(P,{name:"id",label:"Product Name",defaultValue:null==r?void 0:r.id,register:d,error:null==g?void 0:g.id,hidden:!0}),(0,s.jsx)(E,{name:"description",label:"Description",type:"string",defaultValue:null==r?void 0:r.description,register:d,error:null==g?void 0:g.description,placeholder:"Description about the blog."})]}),b.error&&(0,s.jsx)("span",{className:"text-red-600",children:"Something went wrong!"}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end gap-x-2",children:[(0,s.jsx)("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 ",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:!x,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border ".concat(x?"bg-orange-600 text-white":"bg-gray-300 text-gray-500"),children:"create"===a?"Add":"Update"})]})]})]})},J=e=>{let{type:t,data:a,setOpen:r}=e,{register:l,handleSubmit:n,setValue:i,formState:{errors:d,isValid:m}}=(0,V.cI)({resolver:(0,A.F)(H),mode:"onChange",criteriaMode:"all",defaultValues:{id:null==a?void 0:a.id,productId:(null==a?void 0:a.productId)||null}}),[u,g]=(0,o.useState)((null==a?void 0:a.image)||null),[x,p]=(0,c.useFormState)(_,{success:!1,error:!1}),h=n(e=>{p({...e})}),b=(0,k.useRouter)();return(0,o.useEffect)(()=>{x.success&&(S.Am.success("Booking ".concat("create"===t?"created":"updated")),r(!1),b.refresh())},[x]),(0,o.useEffect)(()=>{},[m,d]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 ",children:"Booking"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 ",children:"Approve or reject the booking"})]}),(0,s.jsxs)("form",{className:"overflow-y-auto",onSubmit:h,children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-12 gap-2 sm:gap-6",children:[a&&(0,s.jsx)(P,{name:"id",label:"Product Name",defaultValue:null==a?void 0:a.id,register:l,error:null==d?void 0:d.id,hidden:!0}),(0,s.jsx)(P,{name:"is_approved",label:"Is Approved",type:"checkbox",defaultValue:null==a?void 0:a.is_approved,register:l,error:null==d?void 0:d.is_approved,onChange:e=>{i("is_approved",e.target.checked)}})]}),x.error&&(0,s.jsx)("span",{className:"text-red-600",children:"Something went wrong!"}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end gap-x-2",children:[(0,s.jsx)("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 ",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:!m,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border ".concat(m?"bg-orange-600 text-white":"bg-gray-300 text-gray-500"),children:"create"===t?"Add":"Update"})]})]})]})},G=e=>{let{type:t,data:a,setOpen:r}=e,{register:l,handleSubmit:n,formState:{errors:i,isValid:d}}=(0,V.cI)({resolver:(0,A.F)(Z),mode:"onChange",criteriaMode:"all"}),[m,x]=(0,c.useFormState)("create"===t?u:g,{success:!1,error:!1}),p=n(e=>{x(e)}),h=(0,k.useRouter)();return(0,o.useEffect)(()=>{m.success&&(S.Am.success("Venue ".concat("create"===t?"created":"updated")),r(!1),h.refresh())},[m]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"create"===t?"Register Venue":"Edit Venue"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 ",children:"Connect with us."})]}),(0,s.jsxs)("form",{className:"overflow-y-auto",onSubmit:p,children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-12 gap-3 sm:gap-6",children:[(0,s.jsx)(P,{name:"venue_name",label:"Venue Name",type:"string",defaultValue:null==a?void 0:a.venue_name,register:l,error:null==i?void 0:i.venue_name,placeholder:"Venue Name"}),(0,s.jsx)(P,{name:"email",label:"Email",type:"email",defaultValue:null==a?void 0:a.email,register:l,error:null==i?void 0:i.email,placeholder:"someone@gmail.com"}),a&&(0,s.jsx)(P,{name:"id",label:"Product Name",defaultValue:null==a?void 0:a.id,register:l,error:null==i?void 0:i.id,hidden:!0}),(0,s.jsx)(P,{name:"venue_address",label:"Venue Address",type:"string",defaultValue:null==a?void 0:a.venue_address,register:l,error:null==i?void 0:i.venue_address,placeholder:"Venue Address"}),(0,s.jsx)(P,{name:"phone_number",label:"Phone Number",type:"string",defaultValue:null==a?void 0:a.phone_number,register:l,error:null==i?void 0:i.phone_number,placeholder:"9841------"}),(0,s.jsx)(P,{name:"contact_person",label:"Contact Person",type:"string",defaultValue:null==a?void 0:a.contact_person,register:l,error:null==i?void 0:i.contact_person,placeholder:"Contact Person"})]}),m.error&&(0,s.jsx)("span",{className:"text-red-600",children:"Something went wrong!"}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end gap-x-2",children:[(0,s.jsx)("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 ",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:!d,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border ".concat(d?"bg-orange-600 text-white":"bg-gray-300 text-gray-500"),children:"create"===t?"Add":"Update"})]})]})]})},K=e=>{let{type:t,data:a,setOpen:r}=e,{register:l,handleSubmit:n,formState:{errors:i,isValid:d}}=(0,V.cI)({resolver:(0,A.F)(D),mode:"onChange",criteriaMode:"all"}),[m,u]=(0,c.useFormState)("create"===t?C:F,{success:!1,error:!1}),g=n(e=>{u(e)}),x=(0,k.useRouter)();return(0,o.useEffect)(()=>{m.success&&(S.Am.success("Event Type ".concat("create"===t?"created":"updated")),r(!1),x.refresh())},[m]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"create"===t?"Create Event Type":"Edit Event Type"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 ",children:"Create your events for all occasion."})]}),(0,s.jsxs)("form",{className:"overflow-y-auto",onSubmit:g,children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-12 gap-3 sm:gap-6 mt-2",children:[(0,s.jsx)(P,{name:"title",label:"Title",type:"string",defaultValue:null==a?void 0:a.title,register:l,error:null==i?void 0:i.title,placeholder:"Title"}),a&&(0,s.jsx)(P,{name:"id",label:"Product Name",defaultValue:null==a?void 0:a.id,register:l,error:null==i?void 0:i.id,hidden:!0})]}),m.error&&(0,s.jsx)("span",{className:"text-red-600",children:"Something went wrong!"}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end gap-x-2",children:[(0,s.jsx)("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 ",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:!d,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border ".concat(d?"bg-orange-600 text-white":"bg-gray-300 text-gray-500"),children:"create"===t?"Add":"Update"})]})]})]})},L=a(18604),Q=a(96273),W=a(55950),X=e=>{var t,a;let{type:r,data:l,setOpen:n,relatedData:d}=e,{category:m,images:u}=d,g=null==u?void 0:u.map(e=>e.url),[x,b]=(0,o.useState)(g||[]),[f,y]=(0,o.useState)((null==l?void 0:null===(t=l.halls)||void 0===t?void 0:t.length)>0?l.halls:[{hall_name:"",hall_capacity:0}]),[v,j]=(0,o.useState)((null==l?void 0:l.amenities.length)>0?l.amenities:[{amenity_name:""}]),[N,w]=(0,o.useState)((null==l?void 0:l.rules.length)>0?l.rules:[{description:""}]),{register:_,handleSubmit:z,formState:{errors:C,isValid:F}}=(0,V.cI)({resolver:(0,A.F)(B),mode:"onChange",criteriaMode:"all"}),[I,$]=(0,c.useFormState)("create"===r?p:h,{success:!1,error:!1}),Z=z(e=>{$({...e,price:Number(e.price),halls:f.filter(e=>e.hall_name||e.hall_capacity),amenities:v.filter(e=>e.amenity_name),rules:N.filter(e=>e.description),product_image:x})}),D=(0,k.useRouter)();(0,o.useEffect)(()=>{I.success&&(S.Am.success("Product ".concat("create"===r?"created":"updated")),n(!1),D.refresh())},[I]);let R=e=>{b(x.filter((t,a)=>a!==e))},T=()=>{y([...f,{hall_name:"",hall_capacity:0}])},H=e=>{y(f.filter((t,a)=>a!==e))},U=(e,t,a)=>{let s=[...f];"hall_capacity"===t?s[e][t]=Number(a):s[e][t]=a,y(s)},q=()=>{j([...v,{amenity_name:""}])},J=e=>{j(v.filter((t,a)=>a!==e))},G=(e,t,a)=>{let s=[...v];s[e][t]=a,j(s)},K=()=>{w([...N,{description:""}])},X=e=>{w(N.filter((t,a)=>a!==e))},Y=(e,t,a)=>{let s=[...N];s[e][t]=a,w(s)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 ",children:"Product"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 ",children:"Add your product name, description, price and address."})]}),(0,s.jsxs)("form",{className:"h-[80vh] overflow-y-auto",onSubmit:Z,children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-12 gap-2 sm:gap-6",children:[(0,s.jsx)("div",{className:"sm:col-span-3",children:(0,s.jsx)("label",{className:"inline-block text-sm text-gray-800 mt-2.5",children:"Product Images"})}),(0,s.jsxs)("div",{className:"sm:col-span-9",children:[(0,s.jsx)(M.ZF,{uploadPreset:"NextJS_Nimtoz",options:{multiple:!0,clientAllowedFormats:["image"]},onSuccess:e=>{let t="object"==typeof e.info&&"secure_url"in e.info?e.info.secure_url:null;t&&b(e=>Array.isArray(e)?[...e,t]:[t])},children:e=>{let{open:t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"sm:col-span-9",children:(0,s.jsx)("div",{className:"flex items-center gap-5",children:(0,s.jsx)("div",{className:"flex gap-x-2 cursor-pointer",onClick:()=>t(),children:(0,s.jsx)(L.Z,{width:25,height:25})})})})})}}),(0,s.jsx)("div",{className:"flex gap-4 mt-2 overflow-x-auto max-w-full",children:x&&x.map((e,t)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(O.default,{src:e,alt:"Product Image",width:100,height:100,objectFit:"cover"}),(0,s.jsx)("button",{type:"button",className:"absolute top-0 right-0 bg-white rounded-full p-1",onClick:()=>R(t),children:(0,s.jsx)(i.Z,{className:"w-4 h-4 text-red-600"})})]},t))})]}),(0,s.jsx)(P,{name:"title",label:"Product Name",type:"string",defaultValue:null==l?void 0:l.title,register:_,error:null==C?void 0:C.title,placeholder:"My Product"}),(0,s.jsx)(P,{name:"price",label:"Price",type:"string",defaultValue:null==l?void 0:l.price,register:_,error:null==C?void 0:C.price,placeholder:"Price"}),l&&(0,s.jsx)(P,{name:"id",label:"Product Name",type:"string",defaultValue:null==l?void 0:l.id,register:_,error:null==C?void 0:C.id,hidden:!0}),(0,s.jsx)(P,{name:"address",label:"Address",type:"string",defaultValue:null==l?void 0:l.address,register:_,error:null==C?void 0:C.address,placeholder:"Address"}),(0,s.jsx)("div",{className:"sm:col-span-3",children:(0,s.jsx)("label",{htmlFor:"af-account-full-name",className:"inline-block text-sm text-gray-800 mt-2.5 ",children:"Select the Category"})}),(0,s.jsxs)("div",{className:"sm:col-span-9",children:[(0,s.jsx)("select",{..._("category"),className:"py-2 px-3 block w-full border-gray-200 shadow-sm sm:mt-0\n                                text-sm relative rounded-lg ring-1 ring-gray-300\n                                focus:ring-2 focus:ring-blue-500 focus:outline-none \n                                focus:border-blue-500 disabled:opacity-50 disabled:pointer-events-none",defaultValue:null==l?void 0:l.category,children:m&&m.map(e=>(0,s.jsx)("option",{value:e.id,children:e.category_name},e.id))}),(null===(a=C.category)||void 0===a?void 0:a.message)&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:null==C?void 0:C.category.message.toString()})]}),f.map((e,t)=>(0,s.jsxs)("div",{className:"sm:col-span-12 flex items-center gap-1",children:[(0,s.jsxs)("label",{htmlFor:"hall_name-".concat(t),className:"inline-block text-sm text-gray-800",children:["Hall ",t+1]}),(0,s.jsxs)("div",{className:"flex gap-0.5 ml-4",children:[(0,s.jsx)(Q.Z,{className:"text-green-400 cursor-pointer",onClick:T}),(0,s.jsx)(W.Z,{className:"text-red-500 cursor-pointer ".concat(1===f.length?"hidden cursor-not-allowed":""),onClick:()=>H(t),style:{pointerEvents:1===f.length?"none":"auto"}})]}),(0,s.jsxs)("div",{className:"flex ml-12  pl-8 w-full",children:[(0,s.jsx)("input",{type:"text",id:"hall_name-".concat(t),value:e.hall_name,onChange:e=>U(t,"hall_name",e.target.value),className:"py-2 px-3 block w-1/2 border-gray-200 shadow-sm text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Hall Name"}),(0,s.jsx)("input",{type:"text",value:e.hall_capacity,onChange:e=>U(t,"hall_capacity",e.target.value),className:"py-2 px-3 block w-1/2 border-gray-200 shadow-sm text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Hall Capacity"})]})]},t)),v.map((e,t)=>(0,s.jsxs)("div",{className:"sm:col-span-12 flex items-center gap-1",children:[(0,s.jsxs)("label",{htmlFor:"hall_name-".concat(t),className:"inline-block text-sm text-gray-800",children:["Amenity ",t+1]}),(0,s.jsxs)("div",{className:"flex gap-0.5 ml-4",children:[(0,s.jsx)(Q.Z,{className:"text-green-400 cursor-pointer",onClick:q}),(0,s.jsx)(W.Z,{className:"text-red-500 cursor-pointer ".concat(1===v.length?"hidden cursor-not-allowed":""),onClick:()=>J(t),style:{pointerEvents:1===v.length?"none":"auto"}})]}),(0,s.jsx)("div",{className:"flex w-full ml-12",children:(0,s.jsx)("input",{type:"text",id:"amenity_name-".concat(t),value:e.amenity_name,onChange:e=>G(t,"amenity_name",e.target.value),className:"py-2 px-3 block w-1/2 border-gray-200 shadow-sm text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Amenity Name"})})]},t)),N.map((e,t)=>(0,s.jsxs)("div",{className:"sm:col-span-12 flex items-center gap-1",children:[(0,s.jsxs)("label",{htmlFor:"description-".concat(t),className:"inline-block text-sm text-gray-800",children:["Rules ",t+1]}),(0,s.jsxs)("div",{className:"flex gap-0.5 ml-4",children:[(0,s.jsx)(Q.Z,{className:"text-green-400 cursor-pointer",onClick:K}),(0,s.jsx)(W.Z,{className:"text-red-500 cursor-pointer ".concat(1===N.length?"hidden cursor-not-allowed":""),onClick:()=>X(t),style:{pointerEvents:1===N.length?"none":"auto"}})]}),(0,s.jsx)("div",{className:"flex w-full ml-16",children:(0,s.jsx)("input",{type:"text",id:"description-".concat(t),value:e.description,onChange:e=>Y(t,"description",e.target.value),className:"py-2 px-3 block w-1/2 border-gray-200 shadow-sm text-sm rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Rule Description"})})]},t)),(0,s.jsx)(E,{name:"description",label:"Description",type:"string",defaultValue:null==l?void 0:l.description,register:_,error:null==C?void 0:C.description,placeholder:"Product Description."})]}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end gap-x-2",children:[(0,s.jsx)("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 ",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:!F,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border ".concat(F?"bg-orange-600 text-white":"bg-gray-300 text-gray-500"),children:"create"===r?"Add":"Update"})]})]})]})},Y=e=>{let{type:t,data:a,setOpen:r}=e,{register:l,handleSubmit:n,formState:{errors:i,isValid:d}}=(0,V.cI)({resolver:(0,A.F)(T),mode:"onChange",criteriaMode:"all"}),[m,u]=(0,o.useState)((null==a?void 0:a.category_icon)||null),[g,x]=(0,c.useFormState)("create"===t?j:N,{success:!1,error:!1}),p=n(e=>{x({...e,category_icon:(null==m?void 0:m.secure_url)||m})}),h=(0,k.useRouter)();return(0,o.useEffect)(()=>{g.success&&(S.Am.success("Category ".concat("create"===t?"created":"updated")),r(!1),h.refresh())},[g]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-800 ",children:"Category"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 ",children:"Differentiate your products based on different categories."})]}),(0,s.jsxs)("form",{className:"overflow-y-auto",onSubmit:p,children:[(0,s.jsxs)("div",{className:"grid sm:grid-cols-12 gap-2 sm:gap-6",children:[(0,s.jsx)(M.ZF,{uploadPreset:"NextJS_Nimtoz",options:{clientAllowedFormats:["image"],maxFiles:1},onSuccess:(e,t)=>{let{widget:a}=t;u(e.info),a.close()},children:e=>{let{open:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"sm:col-span-3",children:(0,s.jsx)("label",{className:"inline-block text-sm text-gray-800 mt-2.5 ",children:"Category Icon"})}),(0,s.jsx)("div",{className:"sm:col-span-9",children:(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[(m||(null==a?void 0:a.category_icon))&&(0,s.jsx)("div",{style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden"},children:(0,s.jsx)(O.default,{src:(null==m?void 0:m.secure_url)||(null==a?void 0:a.category_icon),alt:(null==a?void 0:a.category_name)?a.category_name:"Category Icon",width:100,height:100,objectFit:"cover"})}),(0,s.jsx)("div",{className:"flex gap-x-2 cursor-pointer",onClick:()=>t(),children:(0,s.jsx)(U.Z,{width:25,height:25})})]})})]})}}),a&&(0,s.jsx)(P,{name:"id",label:"Product Name",defaultValue:null==a?void 0:a.id,register:l,error:null==i?void 0:i.id,hidden:!0}),(0,s.jsx)(P,{name:"category_name",label:"Category Name",type:"string",defaultValue:null==a?void 0:a.category_name,register:l,error:null==i?void 0:i.category_name})]}),g.error&&(0,s.jsx)("span",{className:"text-red-600",children:"Something went wrong!"}),(0,s.jsxs)("div",{className:"mt-5 flex justify-end gap-x-2",children:[(0,s.jsx)("button",{type:"button",className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 ",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:!d,className:"py-2 px-3 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border ".concat(d?"bg-orange-600 text-white":"bg-gray-300 text-gray-500"),children:"create"===t?"Add":"Update"})]})]})]})};let ee={Venue:x,Category:w,Product:b,Blog:v,Booking:z,EventType:m},et={Product:(e,t,a,r)=>(0,s.jsx)(X,{type:t,data:a,setOpen:e,relatedData:r}),Category:(e,t,a)=>(0,s.jsx)(Y,{type:t,data:a,setOpen:e}),Blog:(e,t,a)=>(0,s.jsx)(q,{type:t,data:a,setOpen:e}),Venue:(e,t,a)=>(0,s.jsx)(G,{type:t,data:a,setOpen:e}),Booking:(e,t,a)=>(0,s.jsx)(J,{type:t,data:a,setOpen:e}),EventType:(e,t,a)=>(0,s.jsx)(K,{type:t,data:a,setOpen:e})};var ea=e=>{let{table:t,type:a,data:d,id:m,relatedData:u}=e,g="create"===a?"w-24 h-12":"w-8 h-8",[x,p]=(0,o.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"".concat(g," flex items-center justify-center rounded-md ").concat("create"===a?"bg-orange-400":"update"===a?"text-blue-500":"text-orange-600"),onClick:()=>p(!0),children:"create"===a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Z,{})," Add"]}):"update"===a?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l.Z,{})}):"delete"===a?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.Z,{})}):null}),x&&(0,s.jsx)("div",{className:"w-screen h-screen absolute left-0 top-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"bg-white p-4 rounded-md relative w-[90%] md:w-[70%] lg:w-[60%] xl:w-[50%] 2xl:w-[40%]",children:[(0,s.jsx)(()=>{let[e,r]=(0,c.useFormState)(ee[t],{success:!1,error:!1}),l=(0,k.useRouter)();return(0,o.useEffect)(()=>{e.success&&(S.Am.success("".concat(t," deleted!")),p(!1),l.refresh()),e.error&&S.Am.error("Something went wrong!")},[e,l]),"delete"===a&&m?(0,s.jsxs)("form",{action:r,className:"p-4 flex flex-col gap-4",children:[(0,s.jsx)("input",{type:"text | number",name:"id",value:m,hidden:!0}),(0,s.jsxs)("span",{className:"text-center font-medium",children:["Are you sure you want to delete this ",t,"?"]}),(0,s.jsx)("button",{className:"bg-orange-600 text-white py-2 px-4 rounded:md border-none w-max self-center",children:"Delete"})]}):"create"===a||"update"===a?et[t](p,a,d,u):"Form Not Found!"},{}),(0,s.jsx)("div",{className:"absolute top-4 right-4 cursor-pointer",onClick:()=>p(!1),children:(0,s.jsx)(i.Z,{})})]})})]})}}}]);