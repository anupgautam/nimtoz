(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2363],{71425:function(e,s,t){Promise.resolve().then(t.bind(t,51740))},66648:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(55601),a=t.n(r)},87138:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(231),a=t.n(r)},16463:function(e,s,t){"use strict";var r=t(71169);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},55601:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return d},getImageProps:function(){return l}});let r=t(99920),a=t(80497),n=t(38173),i=r._(t(21241));function l(e){let{props:s}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let d=n.Image},51740:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var r=t(57437),a=t(2265),n=t(16463),i=t(87138),l=t(14245),d=t(17821),o=t(30998),c=t(66648),u=t(95956);let m=()=>{let e=(0,n.useRouter)();(0,n.useSearchParams)().get("token");let[s,t]=(0,a.useState)(""),{data:m}=(0,o.useSession)();(0,a.useEffect)(()=>{(null==m?void 0:m.user)&&e.push("/")},[m,e]);let f=(0,l.Ry)({password:(0,l.Z_)().min(8,"Password must be at least 8 characters").matches(/[a-zA-Z]/,"Password must contain at least one letter").matches(/[0-9]/,"Password must contain at least one number").required("Password is required")}),h=(0,d.TA)({validationSchema:f,initialValues:{password:""},onSubmit:(e,s)=>{let{resetForm:t}=s;b(e,t)}}),{errors:p,getFieldProps:x,touched:g}=h,b=async(s,r)=>{try{let a=await fetch("/api/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});(await a.json()).success?(e.push("/login"),u.Am.success("Password reset successful.")):t(""),r()}catch(e){u.Am.error("Backend error")}};return(0,r.jsx)("section",{className:"min-h-screen",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 min-h-screen",children:[(0,r.jsx)("div",{className:"relative hidden lg:flex items-end px-4 pb-10 pt-60 sm:px-6 sm:pb-16 md:justify-center lg:px-8 lg:pb-24",children:(0,r.jsx)("div",{className:"absolute inset-0",children:(0,r.jsx)(c.default,{className:"h-full w-full rounded-md object-cover object-top",src:"/resetpassword.svg",alt:"Reset Password Illustration",height:200,width:200})})}),(0,r.jsx)("div",{className:"flex items-center justify-center px-4 py-10 sm:px-6 sm:py-16 lg:px-8 lg:py-24",children:(0,r.jsxs)("div",{className:"xl:mx-auto xl:w-full xl:max-w-sm 2xl:max-w-md",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold leading-tight text-orange-500 sm:text-4xl",children:"Reset password"}),(0,r.jsxs)("p",{className:"mt-2 text-base text-gray-600",children:["Remember your password?"," ",(0,r.jsx)(i.default,{href:"/login",title:"",className:"font-medium text-orange-500 hover:text-orange-600 transition-all duration-200 hover:underline",children:"Log In"})]}),(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsx)("form",{noValidate:!0,onSubmit:h.handleSubmit,children:(0,r.jsx)("div",{className:"grid gap-y-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"password",id:"password",className:"py-3 px-4 block w-full border-gray-200 rounded-lg text-sm focus:border-red-500 focus:ring-red-500 disabled:opacity-50 disabled:pointer-events-none","aria-describedby":"password-error",placeholder:"Password",...x("password")}),g.password&&p.password&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:p.password})]}),(0,r.jsx)("button",{type:"submit",disabled:!h.isValid||!h.dirty,className:"inline-flex w-full items-center justify-center rounded-md mt-4 px-3.5 py-2.5 font-semibold leading-7 text-white ".concat(h.isValid&&h.dirty?"bg-orange-500 hover:bg-orange-600":"bg-gray-300 cursor-not-allowed"),children:"Reset Password"})]})})}),s&&(0,r.jsx)("p",{children:s})]})]})})]})})};function f(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(m,{})})}}},function(e){e.O(0,[8173,998,5956,231,7475,2971,7023,1744],function(){return e(e.s=71425)}),_N_E=e.O()}]);