(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9391],{82142:function(e,s,l){Promise.resolve().then(l.bind(l,78903))},87138:function(e,s,l){"use strict";l.d(s,{default:function(){return t.a}});var a=l(231),t=l.n(a)},78903:function(e,s,l){"use strict";var a=l(57437),t=l(30998),r=l(66648),i=l(87138),n=l(2265),c=l(95956),d=l(66314),o=l(16463);s.default=()=>{let{data:e}=(0,t.useSession)(),[s,l]=(0,n.useState)([]),[m,x]=(0,n.useState)(!0),u=async()=>{try{let e=await fetch("/api/blogs");if(e.ok){let s=await e.json();l(s)}else c.Am.error("Error fetching blogs.")}catch(e){console.error("Error fetching blogs:",e)}finally{x(!1)}};return(0,n.useEffect)(()=>{u()},[]),(0,o.useRouter)(),(0,a.jsxs)("div",{className:"max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto",children:[(0,a.jsx)("h1",{className:"font-semibold text-[2rem] text-orange-500 text-center -mb-1 z-100 pb-4",children:"Blogs"}),(null==e?void 0:e.user)&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(d.default,{table:"Blog",type:"create"})}),m?(0,a.jsx)("div",{className:"grid lg:grid-cols-2 gap-6",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"animate-pulse flex space-x-4",children:[(0,a.jsx)("div",{className:"rounded-xl bg-gray-300 h-[200px] sm:w-[250px] sm:h-[350px] w-full"}),(0,a.jsxs)("div",{className:"flex-1 py-1",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-1/2 mb-4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/3 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/4"})]})]},e))}):(0,a.jsx)("div",{className:"grid lg:grid-cols-2 gap-6",children:s.map((e,s)=>(0,a.jsx)("div",{children:(0,a.jsxs)(i.default,{className:"group sm:flex rounded-xl focus:outline-none",href:"/blogs/".concat(e.id),children:[(0,a.jsx)("div",{className:"shrink-0 relative rounded-xl overflow-hidden h-[200px] sm:w-[250px] sm:h-[350px] w-full",children:(0,a.jsx)(r.default,{className:"size-full absolute top-0 start-0 object-cover",src:e.image,alt:e.title,width:40,height:50,sizes:"(max-width:768px) 100vw, (max-width:1200px) 50vw, 33vw",priority:!0})},s),(0,a.jsx)("div",{className:"grow",children:(0,a.jsxs)("div",{className:"p-4 flex flex-col h-full sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg sm:text-2xl font-semibold text-orange-500",children:e.title}),(0,a.jsx)("div",{className:"mt-5 sm:mt-auto",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("div",{className:"ms-2.5 sm:ms-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-800",children:e.author.firstname+" "+e.author.lastname}),(0,a.jsx)("p",{children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})})})]})})]})},s))})]})}}},function(e){e.O(0,[8173,998,5956,231,4870,7992,6314,2971,7023,1744],function(){return e(e.s=82142)}),_N_E=e.O()}]);